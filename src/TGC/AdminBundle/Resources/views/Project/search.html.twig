{% extends 'TGCAdminBundle::formlayout.html.twig' %}

{% block title -%}Search for Projects{% endblock %}

{% block content -%}
&nbsp;
    {{ form(form) }}


{% if pagination is null %}
<p>&nbsp;</p>
<p>&nbsp;</p>

{% elseif pagination is empty %}
    <p>Your search returned no results. Please try again.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

{% else %}
    Or browse by sector:
    <a href="">All</a>
    {% for sector in sectors %}
       | <a href="{{ path('project_search') }}?sector_id={{ sector.id }}">{{ sector.name }}</a>
    {% endfor %}
    <div class="projects-wrap">
        {% for entity in pagination %}
            <div class="box">
                <div class="box-inner"
                 {% if entity.sector is not empty and entity.sector.color is not empty %}
                     style="background-color: {{ entity.sector.color }}"
                 {% endif %}>
                    <div class="info-box title">
                        <a href="{{ path('project_show', { 'id': entity.id }) }}">{{ entity.title }}</a>
                    </div>
                    <div class="info-box">Budget: ${{ entity.budget }}</div>
                    <div class="info-box">{% if entity.startdate %}{{ entity.startdate|date('Y-m-d') }}{% endif %}</div>
                    <div class="info-box">
                        <a href="{{ path('project_show', { 'id': entity.id }) }}">View details</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{#         <ul>
        <li>
            <a href="{{ path('project_new') }}">
                Create a new entry
            </a>
        </li>
    </ul> #}
{% endif %}
{% endblock %}

