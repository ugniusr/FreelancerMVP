{% extends 'TGCAdminBundle::formlayout.html.twig' %}

{% block title -%}Search for Projects{% endblock %}

{% block body -%}
    <section id="contact" class="section">
        <div class="wrapper clearfix">
            <div class="tgc-form">

                {{ form(form) }}
            </div>


        </div>
        {% if pagination is null %}
            <p>&nbsp;</p>

            <p>&nbsp;</p>

        {% elseif pagination is empty %}
            <p>Your search returned no results. Please try again.</p>
            <p>&nbsp;</p>
            <p>&nbsp;</p>

        {% else %}
            Or browse by sector:
            <a href="">All</a>
            {% for sector in sectors %}
                | <a href="{{ path('project_search') }}?sector_id={{ sector.id }}">{{ sector.name }}</a>
            {% endfor %}
            <div>
                <table>
                    <th></th>

                    {% for entity in pagination %}
                        <tr
                                {% if entity.sector is not empty and entity.sector.color is not empty %}
                            style="background-color: {{ entity.sector.color }}"
                                {% endif %}>

                            <td>{{ entity.id }}</td>
                            <td>{{ entity.title }}</td>
                            <td>{% if entity.startdate %}{{ entity.startdate|date('Y-m-d') }}{% endif %}</td>
                            <td><a href="{{ path('project_show', { 'id': entity.id }) }}" target="_blank">View
                                    details</a></td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        {% endif %}
    </section>
{% endblock %}

